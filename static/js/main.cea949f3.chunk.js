(this.webpackJsonpcliente=this.webpackJsonpcliente||[]).push([[0],{104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){"use strict";c.r(t);var n,a=c(0),s=c.n(a),i=c(49),r=c.n(i),o=c(15),j=c(2),u=(c(57),c(1)),l=function(){return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("nav",{className:"nav",children:Object(u.jsx)("ul",{className:"nav-ul",children:Object(u.jsx)("li",{className:"nav-li",children:Object(u.jsx)(o.b,{to:"/cliente-chat-simple",className:"link",children:"Login"})})})})})},b=c(12),h=(c(66),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(u.jsxs)("div",{className:"container-login",children:[Object(u.jsx)("h2",{className:"tittle",children:"Login"}),Object(u.jsx)("input",{className:"input",type:"text",placeholder:"usuario",onChange:function(e){n(e.target.value)}}),Object(u.jsx)(o.b,{to:"/chat?usuario=".concat(c),children:Object(u.jsx)("button",{className:"button",type:"submit",children:"Aceptar"})})]})}),O=c(23),d=c(51),x=c.n(d),m=c(52),f=c.n(m),p=(c(104),function(e,t,c,n){e.emit("enviar",{usuario:t,destino:c,msg:n})}),v=function(e){var t=e.location,c=Object(a.useState)(),s=Object(b.a)(c,2),i=s[0],r=s[1],o=Object(a.useState)(),j=Object(b.a)(o,2),l=j[0],h=j[1],d=Object(a.useState)(),m=Object(b.a)(d,2),v=m[0],N=m[1],g=Object(a.useState)([]),S=Object(b.a)(g,2),k=S[0],y=S[1],C=Object(a.useState)([]),E=Object(b.a)(C,2),w=E[0],J=E[1],L=Object(a.useState)(""),A=Object(b.a)(L,2),B=A[0],D=A[1];return Object(a.useEffect)((function(){n=f()("https://servidor-chat-simple.herokuapp.com/");var e=x.a.parse(t.search).usuario;return r(e),n.emit("usuario",{usuario:e}),n.on("conectados",(function(t){var c=t.filter((function(t){return t!==e}));J(c),c.length>0&&h(c[0])})),n.on("recibir",(function(t){var c=t.sender,n=t.msg;y((function(t){return[].concat(Object(O.a)(t),[{sender:c,receiver:e,text:n}])})),D("Nuevo mensaje de ".concat(c))})),function(){n.off()}}),[t]),Object(u.jsxs)("div",{className:"container-chat",children:[Object(u.jsxs)("h2",{className:"tittle",children:["Chat ",i]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"notificacion",children:"Usuarios conectados:"}),w.length>0?Object(u.jsx)("select",{name:"select",value:l,onChange:function(e){h(e.target.value)},children:w.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))}):null,Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"notificacion",children:""!==B?"".concat(B):null}),Object(u.jsx)("div",{className:"container-mensajes",children:k.map((function(e,t){var c=e.sender,n=e.receiver,a=e.text;return l===c||l===n?Object(u.jsx)("span",{className:"mensaje",children:c===i?"T\xfa: ".concat(a):"".concat(c,": ").concat(a)},"".concat(t).concat(c)):null}))}),Object(u.jsxs)("div",{className:"container-input",children:[Object(u.jsx)("input",{className:"input-mensaje",type:"text",onChange:function(e){N(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(y((function(e){return[].concat(Object(O.a)(e),[{sender:i,receiver:l,text:v}])})),p(n,i,l,v))}}),Object(u.jsx)("button",{className:"button",onClick:function(){y((function(e){return[].concat(Object(O.a)(e),[{sender:i,receiver:l,text:v}])})),p(n,i,l,v)},children:"Enter"})]})]})]})};c(105);var N=function(){return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(l,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/cliente-chat-simple",children:Object(u.jsx)(h,{})}),Object(u.jsx)(j.a,{exact:!0,path:"/chat",component:v})]})]})};c(106);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))},57:function(e,t,c){},66:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.cea949f3.chunk.js.map